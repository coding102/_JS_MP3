//Copyright (c) YEAR - YOUR NAME - URL TO ORIGINAL
//
//Permission is hereby granted, free of charge, to any person 
//obtaining a copy of this software and associated documentation 
//files (the "Software"), to deal in the Software without restriction,
// including without limitation the rights to use, copy, modify, 
//merge, publish, distribute, sublicense, and/or sell copies of 
//the Software, and to permit persons to whom the Software is 
//furnished to do so, subject to the following conditions:
//
//The above copyright notice and this permission notice shall 
//be included in all copies or substantial portions of the Software.
//
//THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, 
//EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES 
//OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 
//NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT 
//HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, 
//WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
//OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER 
//DEALINGS IN THE SOFTWARE.


$bars: 21;
$width: 15;
$height: (16 * $width);
$gap: ((0.62 * $width) * (2 / 3));
$perc: "%";
body {
  margin:0;
  padding:0;
}
.wrapper {
  width:#{(($width + $gap) * $bars) + $gap}px;
  margin:0 auto;
  height:150px;
  border-bottom:1px solid rgba(0,0,0,0.2);
  position:relative;
}
.bar {
  float:left;
  width:#{$width}px;
  height:#{$height}px;
  position:absolute;
  bottom:-#{$height / 2}px;
}
@for $i from 1 through $bars {
  $random1: random(255);
  $random2: random(255);
  $random3: random(255);
  $color: rgba($random1, $random2, $random3, 1);
  .bar:nth-of-type(#{$i}) {
    left:#{(($gap + $width) * $i) - $width}px;
    background: linear-gradient(to bottom, #{$color} 0%, rgba(0,0,0,0) 50%,#{$color} 100%);
    @if  $i < ($bars * 0.36)  {
    animation:barS#{$i} 5s ease-in infinite;
    }
    @if ($bars * 0.36) < $i  {
    animation:barM#{$i} 5s ease-in infinite;
    }
    @if  ($bars * 0.7) < $i  {
    animation:barS#{$i} 5s ease-in infinite;
    }
  }
  @keyframes barM#{$i} {
    #{0}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 0}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 5}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 10}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 15}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 20}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 25}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 30}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 35}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 40}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 45}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 50}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 55}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 60}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 65}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 70}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 75}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 80}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 85}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{random(9) + 90}#{$perc} {transform:rotateX(#{random(70)}deg);}
    #{100}#{$perc} {transform:rotateX(#{random(70)}deg);}
  }
  @keyframes barS#{$i} {
      #{0}#{$perc} {transform:rotateX(#{random(10) + 60}deg);}
      #{random(9) + 0}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 5}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 10}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 15}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 20}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 25}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 30}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 35}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 40}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 45}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 50}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 55}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 60}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 65}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 70}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 75}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 80}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{random(9) + 85}#{$perc} {transform:rotateX(#{random(10) + 70}deg);}
      #{100}#{$perc} {transform:rotateX(#{random(10) + 60}deg);}
    }
}